# 更新日志

## v0.3.0 (2026-02-06)

### ✨ 重大更新
- **全方位金价监控**：
  - 新增 **国内实时金价**：直连上海黄金交易所（SGE）数据，支持现货（Au99.99）及期货主力合约，解决收盘后不更新痛点。
  - 新增 **国际金价**：支持伦敦金（XAU）、COMEX纽约金实时行情。
- **配置中心升级**：
  - 新增 **快捷预设菜单**：内置“贵金属/汇率”、“A股指数”、“港股指数”、“美股”四大分类，一键添加常用标的。
  - 优化添加逻辑：支持直接从预设菜单填入并保存，无需手动查询代码。
- **联系与反馈**：
  - 新增 **底部联系栏**：配置窗口底部增加公众号二维码入口，方便反馈问题与交流。

### 🚀 性能与体验
- **秒级刷新**：指数与金价刷新频率提升至 **1秒/次**，行情捕捉更敏锐。
- **双引擎解析**：重构数据获取模块，同时支持腾讯财经（股票/指数）与新浪财经（期货/现货）双接口解析。
- **高清适配**：修复在高 DPI 屏幕下字体模糊的问题。

### 🛠️ 修复
- 修复了配置窗口下拉菜单无法显示的兼容性问题（从 Combobox 回退至原生 OptionMenu）。
- 修复了国内金价代码无法获取数据的问题（使用 `gds_AU9999` 替代旧代码）。
- 修复了部分指数涨跌幅计算异常的问题。

## v0.2.1 (2026-02-06)

### 🛠️ 修复与优化
- **UI 交互修复**：
  - 修复配置窗口被悬浮窗遮挡的问题，现在默认弹出在悬浮窗右侧。
  - 修复右键菜单点击后不自动关闭的问题。
  - 修复退出程序时残留空白窗口（Ghost Window）的问题。

## v0.2.0 (2026-02-05)

### ✨ 新增功能
- **价格显示控制**：
  - 右键菜单新增“显示/隐藏价格”开关，默认开启。
  - 价格精度统一保留3位小数，支持动态布局调整。
- **智能交易日逻辑**：
  - 新增“跨日重置”功能：程序在第二天开盘时会自动清空昨日的历史最大波动（灰条），重新计算今日振幅。
  - 新增“日内记忆”功能：盘中重启程序不会丢失今日已记录的最大波动数据。
- **UI 深度优化**：
  - **布局升级**：纯百分比模式下增加间距；柱状图模式下百分比独立分列，杜绝遮挡。
  - **视觉增强**：柱状图区域增加 `[ ]` 仪表盘风格边框，最小显示长度设为 2px，防止微小波动不可见。

### 🛠️ 修复
- 修复了柱状图过短时被百分比文字覆盖的问题。
- 修复了灰条（最大波动范围）在跨日运行或重启后无法正确重置的问题。

## v0.1.0 (2026-02-05)


### ✨ 新增功能
- **现代化 UI 重构**：
  - 全面采用 Grid 布局，将股票名称、走势图、涨跌幅分离为独立列，彻底解决文字重叠问题。
  - **高级柱状图模式**：
    - 新增 **圆角设计**，视觉效果更柔和现代。
    - 新增 **动态量程轨道**：灰色背景条长度根据该股票当日最大波动自动伸缩，直观反映个股活跃度。
    - 新增 **全局统一缩放**：所有股票使用统一比例尺，便于横向对比波动大小。
    - 新增 **视觉边界**：柱状图两侧增加 `[]` 风格边框，界定绘图区域。
- **配置记忆功能**：
  - 自动记录用户最后使用的显示模式（柱状图/百分比），下次启动自动恢复。
  - 配置文件 `stock_config.json` 结构自动升级，兼容旧版数据。
- **高清屏适配**：开启 Windows High DPI 感知，在高分屏下文字更加清晰锐利。

### 🛠️ 优化与修复
- 修复了纯百分比模式下名称与数字间距过小的问题。
- 修复了短柱状图被文字遮挡的问题。
- 优化了窗口动态调整逻辑，减少界面抖动。
