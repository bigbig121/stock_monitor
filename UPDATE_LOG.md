# 更新日志

## v0.4.3 (2026-02-09)

### ✨ 新增功能
- **技术面综合分析**：
  - 右键菜单新增 **"📈 技术面分析"** 选项，一键生成个股/指数的技术面诊断报告。
  - **多维指标**：集成均线系统(MA5/MA20)、MACD(金叉/死叉)、KDJ(J值/金叉)、RSI(超买超卖)、量比(放量/缩量)等核心技术指标。
  - **综合研判**：基于多因子打分模型，自动生成“积极买入/谨慎持有/观望/减仓”等操作建议。
  - **独立分析窗口**：
    - 全新暗色系 UI 设计，数据可视化更清晰。
    - 支持窗口任意位置拖动与置顶显示，不遮挡主行情。
    - 增加 **Score** 量化评分显示，决策更直观。
  - **免责声明**：明确提示分析结果仅供娱乐参考，非投资建议。

### 🛠️ 优化
- **UI 交互**：
  - 分析窗口尺寸升级为 500x700，阅读体验更佳。
  - 修复了分析窗口在部分情况下无法拖动或被遮挡的问题。
- **算法增强**：
  - 优化评分逻辑：引入空头排列扣分、MACD/KDJ 金叉死叉加权，避免盲目抄底。
  - 修正了部分指标计算精度。

## v0.4.1 (2026-02-09) -> v0.4.2
*(本版本已整合至 v0.4.3，移除 AI 相关实验性表述)*
- **技术分析初探**：引入基础技术指标计算框架。
- **独立窗口**：尝试使用独立弹窗显示详细数据。

## v0.4.0 (2026-02-09)

### ✨ 重大更新
- **成交量监控**：
  - 新增 **量比显示**：在涨跌幅后方显示实时量比（今日预测量/5日均量）。
  - 新增 **状态可视化**：自动识别“放量🔥”（>1.5x）、“缩量❄️”（<0.6x）和“平量📊”状态。
  - 增加 **显示控制**：右键菜单新增“显示/隐藏成交量”开关，支持按需开启。

### 🛠️ 修复与优化
- **数据源增强**：
  - 修复国内金价 (gds_AU9999) 解析逻辑，完美支持支付宝/新浪接口格式，解决涨跌幅计算错误。
  - 优化新浪接口（逗号分隔）与腾讯接口（波浪线分隔）的混合解析能力。
- **体验优化**：
  - 调整量比阈值（从 2.0/0.5 调整为 1.5/0.6），更符合A股市场实际体感。
  - 修正UI布局，为成交量信息预留独立列，防止文字重叠。

## v0.3.0 (2026-02-06)

### ✨ 重大更新
- **全方位金价监控**：
  - 新增 **国内实时金价**：直连上海黄金交易所（SGE）数据，支持现货（Au99.99）及期货主力合约，解决收盘后不更新痛点。
  - 新增 **国际金价**：支持伦敦金（XAU）、COMEX纽约金实时行情。
- **配置中心升级**：
  - 新增 **快捷预设菜单**：内置“贵金属/汇率”、“A股指数”、“港股指数”、“美股”四大分类，一键添加常用标的。
  - 优化添加逻辑：支持直接从预设菜单填入并保存，无需手动查询代码。
- **联系与反馈**：
  - 新增 **底部联系栏**：配置窗口底部增加公众号二维码入口，方便反馈问题与交流。

### 🚀 性能与体验
- **秒级刷新**：指数与金价刷新频率提升至 **1秒/次**，行情捕捉更敏锐。
- **双引擎解析**：重构数据获取模块，同时支持腾讯财经（股票/指数）与新浪财经（期货/现货）双接口解析。
- **高清适配**：修复在高 DPI 屏幕下字体模糊的问题。

### 🛠️ 修复
- 修复了配置窗口下拉菜单无法显示的兼容性问题（从 Combobox 回退至原生 OptionMenu）。
- 修复了国内金价代码无法获取数据的问题（使用 `gds_AU9999` 替代旧代码）。
- 修复了部分指数涨跌幅计算异常的问题。

## v0.2.1 (2026-02-06)

### 🛠️ 修复与优化
- **UI 交互修复**：
  - 修复配置窗口被悬浮窗遮挡的问题，现在默认弹出在悬浮窗右侧。
  - 修复右键菜单点击后不自动关闭的问题。
  - 修复退出程序时残留空白窗口（Ghost Window）的问题。

## v0.2.0 (2026-02-05)

### ✨ 新增功能
- **价格显示控制**：
  - 右键菜单新增“显示/隐藏价格”开关，默认开启。
  - 价格精度统一保留3位小数，支持动态布局调整。
- **智能交易日逻辑**：
  - 新增“跨日重置”功能：程序在第二天开盘时会自动清空昨日的历史最大波动（灰条），重新计算今日振幅。
  - 新增“日内记忆”功能：盘中重启程序不会丢失今日已记录的最大波动数据。
- **UI 深度优化**：
  - **布局升级**：纯百分比模式下增加间距；柱状图模式下百分比独立分列，杜绝遮挡。
  - **视觉增强**：柱状图区域增加 `[ ]` 仪表盘风格边框，最小显示长度设为 2px，防止微小波动不可见。

### 🛠️ 修复
- 修复了柱状图过短时被百分比文字覆盖的问题。
- 修复了灰条（最大波动范围）在跨日运行或重启后无法正确重置的问题。

## v0.1.0 (2026-02-05)


### ✨ 新增功能
- **现代化 UI 重构**：
  - 全面采用 Grid 布局，将股票名称、走势图、涨跌幅分离为独立列，彻底解决文字重叠问题。
  - **高级柱状图模式**：
    - 新增 **圆角设计**，视觉效果更柔和现代。
    - 新增 **动态量程轨道**：灰色背景条长度根据该股票当日最大波动自动伸缩，直观反映个股活跃度。
    - 新增 **全局统一缩放**：所有股票使用统一比例尺，便于横向对比波动大小。
    - 新增 **视觉边界**：柱状图两侧增加 `[]` 风格边框，界定绘图区域。
- **配置记忆功能**：
  - 自动记录用户最后使用的显示模式（柱状图/百分比），下次启动自动恢复。
  - 配置文件 `stock_config.json` 结构自动升级，兼容旧版数据。
- **高清屏适配**：开启 Windows High DPI 感知，在高分屏下文字更加清晰锐利。

### 🛠️ 优化与修复
- 修复了纯百分比模式下名称与数字间距过小的问题。
- 修复了短柱状图被文字遮挡的问题。
- 优化了窗口动态调整逻辑，减少界面抖动。
